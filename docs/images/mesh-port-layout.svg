<svg xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 1200 800"
     role="img"
     aria-labelledby="port-layout-title port-layout-desc">
  <title id="port-layout-title">Mesh Network Detailed Port Layout</title>
  <desc id="port-layout-desc">Detailed diagram showing port assignments for three mesh nodes. Each node has WAN for ISP connection, LAN1 and LAN2 for client devices, LAN3 and LAN4 for mesh connections to other nodes. Node1 LAN3 connects to Node2 LAN3. Node1 LAN4 connects to Node3 LAN4. Node2 LAN4 connects to Node3 LAN3, forming a complete ring. All nodes also have 2.4GHz wireless mesh backup and 5GHz client access points broadcasting a unified SSID.</desc>

  <defs>
    <marker id="arrow-port" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#343a40"/>
    </marker>

    <!-- Design System Styles -->
    <style>
      /* Node Container */
      .node-container {
        fill: #f8f9fa;
        stroke: #343a40;
        stroke-width: 2;
      }

      /* Port Types */
      .port-wan {
        fill: #cfe2ff;
        stroke: #0d6efd;
        stroke-width: 1.5;
      }

      .port-client {
        fill: #d1e7dd;
        stroke: #198754;
        stroke-width: 1.5;
      }

      .port-mesh {
        fill: #fff3cd;
        stroke: #ffc107;
        stroke-width: 1.5;
      }

      /* Connections */
      .connection {
        stroke: #343a40;
        stroke-width: 2.5;
        fill: none;
      }

      .connection-wireless {
        stroke: #6c757d;
        stroke-width: 2;
        fill: none;
        stroke-dasharray: 5,5;
      }

      /* Typography */
      .text-node-name {
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
        font-size: 16px;
        font-weight: 500;
        fill: #212529;
        text-anchor: middle;
      }

      .text-port {
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
        font-size: 12px;
        font-weight: 400;
        fill: #212529;
      }

      .text-note {
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
        font-size: 13px;
        font-weight: 400;
        fill: #495057;
        text-anchor: middle;
      }
    </style>
  </defs>

  <!-- Node 1 -->
  <g id="node1-detail">
    <rect class="node-container" x="50" y="230" width="280" height="280" rx="8"/>
    <text class="text-node-name" x="190" y="260">Node 1 (10.11.12.1)</text>

    <!-- WAN -->
    <rect class="port-wan" x="70" y="280" width="240" height="30" rx="3"/>
    <text class="text-port" x="80" y="300">WAN: ISP #1</text>

    <!-- LAN1 -->
    <rect class="port-client" x="70" y="320" width="240" height="30" rx="3"/>
    <text class="text-port" x="80" y="340">LAN1: Clients</text>

    <!-- LAN2 -->
    <rect class="port-client" x="70" y="360" width="240" height="30" rx="3"/>
    <text class="text-port" x="80" y="380">LAN2: Clients</text>

    <!-- LAN3 -->
    <rect class="port-mesh" x="70" y="400" width="240" height="30" rx="3"/>
    <text class="text-port" x="80" y="420">LAN3: → Node2</text>

    <!-- LAN4 -->
    <rect class="port-mesh" x="70" y="440" width="240" height="30" rx="3"/>
    <text class="text-port" x="80" y="460">LAN4: → Node3</text>
  </g>

  <!-- Node 2 -->
  <g id="node2-detail">
    <rect class="node-container" x="460" y="230" width="280" height="280" rx="8"/>
    <text class="text-node-name" x="600" y="260">Node 2 (10.11.12.2)</text>

    <!-- WAN -->
    <rect class="port-wan" x="480" y="280" width="240" height="30" rx="3"/>
    <text class="text-port" x="490" y="300">WAN: ISP #2</text>

    <!-- LAN1 -->
    <rect class="port-client" x="480" y="320" width="240" height="30" rx="3"/>
    <text class="text-port" x="490" y="340">LAN1: Clients</text>

    <!-- LAN2 -->
    <rect class="port-client" x="480" y="360" width="240" height="30" rx="3"/>
    <text class="text-port" x="490" y="380">LAN2: Clients</text>

    <!-- LAN3 -->
    <rect class="port-mesh" x="480" y="400" width="240" height="30" rx="3"/>
    <text class="text-port" x="490" y="420">LAN3: ← Node1</text>

    <!-- LAN4 -->
    <rect class="port-mesh" x="480" y="440" width="240" height="30" rx="3"/>
    <text class="text-port" x="490" y="460">LAN4: → Node3</text>
  </g>

  <!-- Node 3 -->
  <g id="node3-detail">
    <rect class="node-container" x="870" y="230" width="280" height="280" rx="8"/>
    <text class="text-node-name" x="1010" y="260">Node 3 (10.11.12.3)</text>

    <!-- WAN -->
    <rect class="port-wan" x="890" y="280" width="240" height="30" rx="3"/>
    <text class="text-port" x="900" y="300">WAN: ISP #3</text>

    <!-- LAN1 -->
    <rect class="port-client" x="890" y="320" width="240" height="30" rx="3"/>
    <text class="text-port" x="900" y="340">LAN1: Clients</text>

    <!-- LAN2 -->
    <rect class="port-client" x="890" y="360" width="240" height="30" rx="3"/>
    <text class="text-port" x="900" y="380">LAN2: Clients</text>

    <!-- LAN3 -->
    <rect class="port-mesh" x="890" y="400" width="240" height="30" rx="3"/>
    <text class="text-port" x="900" y="420">LAN3: ← Node2</text>

    <!-- LAN4 -->
    <rect class="port-mesh" x="890" y="440" width="240" height="30" rx="3"/>
    <text class="text-port" x="900" y="460">LAN4: ← Node1</text>
  </g>

  <!-- Connection: Node1 LAN3 -> Node2 LAN3 -->
  <g id="conn-n1lan3-n2lan3">
    <line class="connection"
          x1="330" y1="415"
          x2="480" y2="415"/>
  </g>

  <!-- Connection: Node1 LAN4 -> Node3 LAN4 (curved down and around) -->
  <g id="conn-n1lan4-n3lan4">
    <path class="connection"
          d="M 330 455 Q 600 550, 890 455"/>
  </g>

  <!-- Connection: Node2 LAN4 -> Node3 LAN3 -->
  <g id="conn-n2lan4-n3lan3">
    <line class="connection"
          x1="720" y1="455"
          x2="890" y2="415"/>
  </g>

  <!-- Wireless mesh note -->
  <text class="text-note" x="600" y="690">2.4GHz Mesh (backup): Node1 ←→ Node2 ←→ Node3 ←→ Node1</text>
  <text class="text-note" x="600" y="715">5GHz Client AP: All nodes broadcast "HA-Network-5G" (unified SSID)</text>
</svg>
